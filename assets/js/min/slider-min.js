!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function($){var t=function(t,i){function e(t,i){this.defaults={slideDuration:4e3,speed:500,arrowRight:".arrow-next",arrowLeft:".arrow-prev"},this.settings=$.extend({},this,this.defaults,i),this.initials={currSlide:0,$currSlide:null,totalSlides:!1,csstransitions:!1},$.extend(this,this.initials),this.$el=$(t),this.$ctrl=$(".slider-control"),this.changeSlide=$.proxy(this.changeSlide,this),this.init(),this.instanceUid=s++}var s=0;return e}();t.prototype.init=function(){this.csstransitionsTest(),this.$el.addClass("slider-carousel"),this.build(),this.events(),this.activate(),this.initTimer()},t.prototype.csstransitionsTest=function(){var t=document.createElement("modernizr"),i=["transition","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in i){var s=i[e],r=void 0!==t.style[s]&&s;if(r){this.csstransitions=r;break}}},t.prototype.addCSSDuration=function(){var t=this;this.$el.find(".slide").each(function(){this.style[t.csstransitions+"Duration"]=t.settings.speed+"ms"})},t.prototype.removeCSSDuration=function(){var t=this;this.$el.find(".slide").each(function(){this.style[t.csstransitions+"Duration"]=""})},t.prototype.build=function(){this.totalSlides=this.$el.find(".slide").length},t.prototype.activate=function(){this.$currSlide=this.$el.find(".slide").eq(0),this.$ctrl.find(".slide-title").eq(0),this.$ctrl.find(".dot").eq(0)},t.prototype.events=function(){$("body").on("click",this.settings.arrowRight,{direction:"right"},this.changeSlide).on("click",this.settings.arrowLeft,{direction:"left"},this.changeSlide).on("click",".dot",this.changeSlide)},t.prototype.clearTimer=function(){this.timer&&clearInterval(this.timer)},t.prototype.initTimer=function(){this.timer=setInterval(this.changeSlide,this.settings.slideDuration)},t.prototype.startTimer=function(){this.initTimer(),this.throttle=!1},t.prototype.changeSlide=function(t){if(!this.throttle){this.throttle=!0,this.clearTimer();var i=this._direction(t),e=this._next(t,i);if(e){var s=this.$el.find(".slide").eq(this.currSlide).addClass(i+" active");this.csstransitions?this._cssAnimation(s,i):this._jsAnimation(s,i)}}},t.prototype._direction=function(t){var i;return i="undefined"!=typeof t?"undefined"==typeof t.data?"right":t.data.direction:"right"},t.prototype._next=function(t,i){var e="undefined"!=typeof t?$(t.currentTarget).data("index"):void 0;switch(!0){case"undefined"!=typeof e:if(this.currSlide==e)return this.startTimer(),!1;this.currSlide=e;break;case"right"==i&&this.currSlide<this.totalSlides-1:this.currSlide++;break;case"right"==i:this.currSlide=0;break;case"left"==i&&0===this.currSlide:this.currSlide=this.totalSlides-1;break;case"left"==i:this.currSlide--}return!0},t.prototype._cssAnimation=function(t,i){setTimeout(function(){this.$el.addClass("transition"),this.addCSSDuration(),this.$currSlide.addClass("shift-"+i)}.bind(this),100),setTimeout(function(){this.$el.removeClass("transition"),this.removeCSSDuration(),this.$currSlide.removeClass("active shift-left shift-right"),this.$currSlide=t.removeClass(i),this._updateTitles(),this._updateIndicators(),this.startTimer()}.bind(this),100+this.settings.speed)},t.prototype._jsAnimation=function(t,i){var e=this;"right"==i&&e.$currSlide.addClass("js-reset-left");var s={};s[i]="0%";var r={};r[i]="100%",this.$currSlide.animate(r,this.settings.speed),t.animate(s,this.settings.speed,"swing",function(){e.$currSlide.removeClass("active js-reset-left").attr("style",""),e.$currSlide=t.removeClass(i).attr("style",""),e._updateTitles(),e._updateIndicators(),e.startTimer()})},t.prototype._updateTitles=function(){this.$ctrl.find(".slide-title").removeClass("active-title").eq(this.currSlide).addClass("active-title")},t.prototype._updateIndicators=function(){this.$ctrl.find(".dot").removeClass("active-dot").eq(this.currSlide).addClass("active-dot")},$.fn.slider=function(i){return this.each(function(e,s){s.slider=new t(s,i)})}});